<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>astrotypes: units</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">astrotypes
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">units </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="units"></a>
Dimensions and Units</h1>
<h2>Why use strong typing</h2>
<p>One of the great things about C++ is that is a strongly typed language. This can help eliminate all sorts of runtime bugs.</p>
<p>Typing means that you can label something, a variable say, as meaning something more than just a number.</p>
<p>for example you could decalare a function like this:</p>
<div class="fragment"><div class="line"><span class="comment">// poor use of typing</span></div>
<div class="line"><span class="keywordtype">float</span> double_frequency(<span class="keywordtype">float</span> frequency);</div>
</div><!-- fragment --><p>The problem with this is the compiler really has no idea if the user is really passing a frequency or they have made a mistake and are instead passing something else. This can lead to many fun hours with the debugger.</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span> t = 0.7678;</div>
<div class="line"><span class="keywordtype">float</span> f = 1800;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">float</span> doubled_freq = double_frequency(t); <span class="comment">// bug not caught by the compiler</span></div>
</div><!-- fragment --><p>If instead we use define some type to represent frequency, then </p><div class="fragment"><div class="line">FreqQuantity&lt;float&gt; double_frequency(FreqQuantity&lt;float&gt; frequency);</div>
</div><!-- fragment --><p>Now our user will have the help of the compiler, as their code will not compile with the bug.</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span> t = 0.7678;</div>
<div class="line">FreqQuantity&lt;float&gt; f(1800 * hertz);</div>
<div class="line"></div>
<div class="line">FreqQuantity&lt;float&gt; doubled_freq = double_frequency(t); <span class="comment">// bug caught by the compiler</span></div>
</div><!-- fragment --><p>So strong typing can save you and your users hours of debugging frustrating runtime errors.</p>
<h2>Boost Quantites</h2>
<p>The <a class="el" href="namespaceboost_1_1units.html">boost::units</a> library we use is a very powerful tool that takes typing to the next level. It will perform a full dimensional analysis at compile time (i.e. no runtime cost) ensuring your variables are consistent with physics. e.g. </p><div class="fragment"><div class="line"><span class="comment">// work funtion will compile OK</span></div>
<div class="line">boost::units::quantity&lt;energy&gt; work(boost::units::quantity&lt;force&gt; f, boost::units::quantity&lt;length&gt; d) {</div>
<div class="line">    <span class="keywordflow">return</span> f * d;</div>
<div class="line">} </div>
<div class="line"></div>
<div class="line"><span class="comment">// this work function will fail to compile as its dimensionally inconsistent</span></div>
<div class="line">boost::units::quantity&lt;length&gt; work(boost::units::quantity&lt;force&gt; f, boost::units::quantity&lt;length&gt; d) {</div>
<div class="line">    <span class="keywordflow">return</span> f * d;</div>
<div class="line">} </div>
</div><!-- fragment --><p>The boost::units::quantity is a templated class that takes two template parameters. The first one is the unit (not just a dimension, but also the unit in that dimension e.g. seconds, milliseconds, etc). The second paramter is the actual numerical type that will be stored (float, int, unsigned, etc), with the default being a double.</p>
<p>Our own units are based on top of the <a class="el" href="namespaceboost_1_1units.html">boost::units</a> SI system of units. They are desinged to be fully comaptible with the boost::units::si system but also allow us to use <a class="el" href="namespacestd_1_1chrono.html">std::chrono</a> types to represent time and still benefit from all <a class="el" href="namespaceboost_1_1units.html">boost::units</a> has to offer. For a full tutorial on the capailities of <a class="el" href="namespaceboost_1_1units.html">boost::units</a> please refer to the boost documentation.</p>
<h2>Some Examples</h2>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 11 2019 10:12:05 for astrotypes by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
